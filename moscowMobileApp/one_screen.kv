#import MDLabel kivymd.uix.label  
<MySwip@MDSwiperItem>

    FitImage:
        #size_hint_y: root.height*0.2
        AsyncImage:
            #height: dp(300)
            #width: dp(300)
            source: "https://www.mos.ru//upload/newsfeed/afisha/322452kopiya(10).jpg"
            radius: [25,]
    

<ClickableText>:
    size_hint_y: None
    height: text_field.height
    MDTextFieldRound:
        id: text_field
        hint_text: root.hint_text
        text: root.text
        color_active: .945,.937,.94,.7 

    MDIconButton:
        icon: "magnify"
        ripple_scale: .5
        pos_hint: {"center_y": .5}
        pos: text_field.width - self.width + dp(9.9), 0
<One_Screen>:
    MDScreen:
        name: "screen1"
        
        MDBottomNavigation:
            panel_color: .2, .2, .2, 0.1
            
            halign: 'start'
            MDBottomNavigationItem:
                name: 'screen 1'
                text: 'Мероприятия'
                icon: 'language-python'

                MDScreen:
                    id: main_screen
                    size_hint: 1,1
                    name: "MainScreen"
                    MDBoxLayout: 
                        orientation: 'vertical'
                        MDToolbar:
                            id: toolbar_top
                            md_bg_color: 1,1,1,1
                            pos_hint: {"top": 1}
                            elevation: 5
                            title: "Мероприятия"
                            specific_text_color: 1,0,0,1
                            title_font_name: "JetBrainsMono-ExtraBold-Italic.ttf" #Чтобы изменить шрифт
                        MDBoxLayout:
                            orientation: 'horizontal'
                            padding: 30,30
                            spacing: 30
                            ClickableText:
                                id: poisk
                                size_hint_x: None
                                width: root.width*0.7
                                pos_hint: {"center_x": .5,"center_y": 1}
                                hint_text: "Поиск мероприятия"
                            
                            MDIconButton:
                                icon: "calendar"
                                pos_hint: {"center_x": .8,"center_y": 1}

                            
                    MDBoxLayout: 
                        orientation: 'vertical'
                        MDGridLayout:
                            rows: 3
                            padding: 5
                            size_hint: 1, .8 
                            pos_hint_x: {"center_x": root.width*0.5}
                            row_default_height: root.height * 0.2    
                            BoxLayout:
                                orientation:'horizontal'
                                size_hint_y: .1
                                
                                MDFlatButton:
                                    text: "Поблизости"
                                    pos_hint_x: {"center_x": .4}
                                    theme_text_color: "Custom"
                                    text_color: 0, 0, 1, 1
                                MDFlatButton:
                                    text: "Популярно"
                                    pos_hint_x: {"center_x": .8}
                                    theme_text_color: "Custom"
                                    text_color: 0, 0, 1, 1
                            MDSwiper:
                                pos_hint_x: {"center_x": .5}
                                items_spacing: dp(-30)                                
                                width_mult: dp(5)
                                #height: root.height  *0.2
                                MySwip:
                                MySwip:
                                MySwip:
                                MySwip:

                            MDBoxLayout: 
                                orientation:'vertical' 
                                ScrollView:

                                    MDList:
                                        MDRoundFlatIconButton:
                                            size_hint_x: .7
                                            line_color: 1, 0, 0, 1
                                            text: "priv"     
                                            text_color: 1, 0, 0, 1 
                                            AsyncImage:
                                                halign: 'end'
                                                height: dp(8)
                                                width: dp(8)
                                                source: "https://www.mos.ru//upload/newsfeed/afisha/322452kopiya(10).jpg"
                                                radius: [25,]  
                                             
                                                                       

                                        OneLineListItem:
                                            text: "Профиль"
                                            on_press:
                                                nav_drawer.set_state("close")
                                                screen_manager.current = "profil"

                                        OneLineListItem:
                                            text: "Подписка"
                                            on_press:
                                                nav_drawer.set_state("close")
                                                screen_manager.current = "podpiska"

                                        OneLineListItem:
                                            text: "Страхование"
                                            on_press:
                                                nav_drawer.set_state("close")
                                                screen_manager.current = "strah"
                            #MDChooseChip:
                            #    MDChip:
                            #        text: "City"
                            #        icon: ''
                            #        color: .945,.937,.84,.99
                            #        check: True
                            #    MDChip:
                            #        text: 'Пешие прогулки'
                            #        icon: 'face'
                            #        color: .945,.937,.84,.99
                            #        check: True
                            #    MDChip:
                            #        text: 'Выставки музеи'
                            #        icon: 'facebook'
                            #        color: .945,.937,.84,.99
                            #        check: True

                        #MDSeparator:
                    #MDBoxLayout: 
                    #    orientation: 'vertical'
                    #    padding: 10,10
                    #    spacing: 10
                    #    canvas.before:
                    #        Color:
                    #            rgba: (0, 0, 0, 0.1)  
                    #        Rectangle:
                    #            pos: self.pos
                    #            size: self.size

                
        